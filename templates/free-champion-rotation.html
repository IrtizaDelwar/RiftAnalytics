<!DOCTYPE HTML>

<html>

<head>

  <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
   <link href="https://fonts.googleapis.com/css?family=Alegreya+SC" rel="stylesheet">
   <link type="text/css" rel="stylesheet" href="{{ url_for('static',filename='stylesheet.css') }}"/>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
   <title>Rift Analytics</title>

   <script>
  function newDoc()
  {
    var user = document.getElementById("searchTxt").value;
    var e = document.getElementById("region");
    var region = e.options[e.selectedIndex].text;
    if (user.length > 0){
      window.location.assign("/profile/" +  region + "/" + user)
    }
    else{
      alert("Please type a valid summoner name. Length must be between 1 and 16.")
    }
  }
</script>

<script>
function rotation(){
  $.ajax({
      type: "POST",
      url: "/champion_rotation",
      success : function(response){
        for(i = 0; i < response.info.length; i++){
          $.ajax({
      type: "POST",
      url: "/champion_info",
      data: {'id' : response.info[i]},
      success : function(data){
        var a = document.createElement("a");
        var x = document.createElement("IMG");
        //x.setAttribute("onclick", "http://google.com");
        x.setAttribute("src", "http://ddragon.leagueoflegends.com/cdn/6.23.1/img/champion/" + data.info[2]);
        x.setAttribute("width", "60");
        x.setAttribute("height", "60");
        a.appendChild(x);
        //a.setAttribute("href", "javascript:changeImage(\'' + data.info[0] +'\')");
        a.addEventListener('click', function(){changeImage(data.info);});
        document.getElementById("pics").appendChild(a);
        if (!document.body.background){
          changeImage(data.info);

        }
        //document.body.appendChild(a);
      }
    })
        }
      }
    })
}
</script>

<script>
function changeImage(champ){
  if (document.body){
    champ[0] = champ[0].replace(/\s+/g, '');
    string = "http://ddragon.leagueoflegends.com/cdn/img/champion/splash/" + champ[0] + "_0.jpg";
    document.body.background = string;
    document.getElementById("name").innerHTML = champ[0];
    document.getElementById("desc").innerHTML = champ[1];
  }
}
</script>

</head>

{% include "header.html" %}

<br><br><br><br>

<body>
  <div class="container">
    <div class="fcr">
    <div class="row">
      <div class="col-md-3" id ="pics"><h3>Free Champion Rotation</h3></div>
      <div class="col-md-6"><br><br><br><br><br><br><br><br><br><br><br><br><br><h1 id="name"></h1><h2 id="desc"></h2></div>
      <div class="col-md-3"></div>
    </div>
  </div>
  </div>
<script>rotation();</script>
</body>

</html>
<br><br><br><br><br><br>
{% include "footer.html" %}